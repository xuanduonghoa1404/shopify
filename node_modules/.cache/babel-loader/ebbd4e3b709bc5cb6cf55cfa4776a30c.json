{"ast":null,"code":"import React$1, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { classNames } from '../../utilities/css.js';\nimport { ArrowLeftMinor, ArrowRightMinor } from '@shopify/polaris-icons';\nimport { Button as Button$1 } from '../Button/Button.js';\nimport { isDateBefore, isDateAfter, getNextDisplayYear, getNextDisplayMonth, getPreviousDisplayYear, getPreviousDisplayMonth } from '../../utilities/dates.js';\nimport { monthName } from './utilities.js';\nimport styles from './DatePicker.scss.js';\nimport { Month as Month$1 } from './components/Month/Month.js';\n\nfunction DatePicker({\n  id,\n  selected,\n  month,\n  year,\n  allowRange,\n  multiMonth,\n  disableDatesBefore,\n  disableDatesAfter,\n  weekStartsOn = 0,\n  dayAccessibilityLabelPrefix,\n  onMonthChange,\n  onChange = noop\n}) {\n  var i18n = useI18n();\n  var [hoverDate, setHoverDate] = useState(undefined);\n  var [focusDate, setFocusDate] = useState(undefined);\n  useEffect(() => {\n    setFocusDate(undefined);\n  }, [selected]);\n  var handleFocus = useCallback(date => {\n    setFocusDate(date);\n  }, []);\n  var setFocusDateAndHandleMonthChange = useCallback(date => {\n    if (onMonthChange) {\n      onMonthChange(date.getMonth(), date.getFullYear());\n    }\n\n    setHoverDate(date);\n    setFocusDate(date);\n  }, [onMonthChange]);\n  var handleDateSelection = useCallback(range => {\n    var {\n      end\n    } = range;\n    setHoverDate(end);\n    setFocusDate(new Date(end));\n    onChange(range);\n  }, [onChange]);\n  var handleMonthChangeClick = useCallback((month, year) => {\n    if (!onMonthChange) {\n      return;\n    }\n\n    setFocusDate(undefined);\n    onMonthChange(month, year);\n  }, [onMonthChange]);\n  var handleHover = useCallback(date => {\n    setHoverDate(date);\n  }, []);\n  var handleKeyUp = useCallback(event => {\n    var {\n      key\n    } = event;\n    var range = deriveRange(selected);\n    var focusedDate = focusDate || range && range.start;\n\n    if (focusedDate == null) {\n      return;\n    }\n\n    if (key === 'ArrowUp') {\n      var previousWeek = new Date(focusedDate);\n      previousWeek.setDate(focusedDate.getDate() - 7);\n\n      if (!(disableDatesBefore && isDateBefore(previousWeek, disableDatesBefore))) {\n        setFocusDateAndHandleMonthChange(previousWeek);\n      }\n    }\n\n    if (key === 'ArrowDown') {\n      var nextWeek = new Date(focusedDate);\n      nextWeek.setDate(focusedDate.getDate() + 7);\n\n      if (!(disableDatesAfter && isDateAfter(nextWeek, disableDatesAfter))) {\n        setFocusDateAndHandleMonthChange(nextWeek);\n      }\n    }\n\n    if (key === 'ArrowRight') {\n      var tomorrow = new Date(focusedDate);\n      tomorrow.setDate(focusedDate.getDate() + 1);\n\n      if (!(disableDatesAfter && isDateAfter(tomorrow, disableDatesAfter))) {\n        setFocusDateAndHandleMonthChange(tomorrow);\n      }\n    }\n\n    if (key === 'ArrowLeft') {\n      var yesterday = new Date(focusedDate);\n      yesterday.setDate(focusedDate.getDate() - 1);\n\n      if (!(disableDatesBefore && isDateBefore(yesterday, disableDatesBefore))) {\n        setFocusDateAndHandleMonthChange(yesterday);\n      }\n    }\n  }, [disableDatesAfter, disableDatesBefore, focusDate, selected, setFocusDateAndHandleMonthChange]);\n  var showNextYear = getNextDisplayYear(month, year);\n  var showNextMonth = getNextDisplayMonth(month);\n  var showNextToNextYear = getNextDisplayYear(showNextMonth, showNextYear);\n  var showNextToNextMonth = getNextDisplayMonth(showNextMonth);\n  var showPreviousYear = getPreviousDisplayYear(month, year);\n  var showPreviousMonth = getPreviousDisplayMonth(month);\n  var previousMonthName = i18n.translate(\"Polaris.DatePicker.months.\".concat(monthName(showPreviousMonth)));\n  var nextMonth = multiMonth ? i18n.translate(\"Polaris.DatePicker.months.\".concat(monthName(showNextToNextMonth))) : i18n.translate(\"Polaris.DatePicker.months.\".concat(monthName(showNextMonth)));\n  var nextYear = multiMonth ? showNextToNextYear : showNextYear;\n  var monthIsSelected = useMemo(() => deriveRange(selected), [selected]);\n  var firstDatePickerAccessibilityLabelPrefix = allowRange ? i18n.translate(\"Polaris.DatePicker.start\") : dayAccessibilityLabelPrefix;\n  var secondDatePickerAccessibilityLabelPrefix = i18n.translate(\"Polaris.DatePicker.end\");\n  var accessibilityLabelPrefixes = [firstDatePickerAccessibilityLabelPrefix, secondDatePickerAccessibilityLabelPrefix];\n  var secondDatePicker = multiMonth ? /*#__PURE__*/React$1.createElement(Month$1, {\n    onFocus: handleFocus,\n    focusedDate: focusDate,\n    month: showNextMonth,\n    year: showNextYear,\n    selected: monthIsSelected,\n    hoverDate: hoverDate,\n    onChange: handleDateSelection,\n    onHover: handleHover,\n    disableDatesBefore: disableDatesBefore,\n    disableDatesAfter: disableDatesAfter,\n    allowRange: allowRange,\n    weekStartsOn: weekStartsOn,\n    accessibilityLabelPrefixes: accessibilityLabelPrefixes\n  }) : null;\n  var datePickerClassName = classNames(styles.DatePicker);\n  return /*#__PURE__*/React$1.createElement(\"div\", {\n    id: id,\n    className: datePickerClassName,\n    onKeyDown: handleKeyDown,\n    onKeyUp: handleKeyUp\n  }, /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.Header\n  }, /*#__PURE__*/React$1.createElement(Button$1, {\n    plain: true,\n    icon: ArrowLeftMinor,\n    accessibilityLabel: i18n.translate('Polaris.DatePicker.previousMonth', {\n      previousMonthName,\n      showPreviousYear\n    }),\n    onClick: () => handleMonthChangeClick(showPreviousMonth, showPreviousYear)\n  }), /*#__PURE__*/React$1.createElement(Button$1, {\n    plain: true,\n    icon: ArrowRightMinor,\n    accessibilityLabel: i18n.translate('Polaris.DatePicker.nextMonth', {\n      nextMonth,\n      nextYear\n    }),\n    onClick: () => handleMonthChangeClick(showNextMonth, showNextYear)\n  })), /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.MonthLayout\n  }, /*#__PURE__*/React$1.createElement(Month$1, {\n    onFocus: handleFocus,\n    focusedDate: focusDate,\n    month: month,\n    year: year,\n    selected: deriveRange(selected),\n    hoverDate: hoverDate,\n    onChange: handleDateSelection,\n    onHover: handleHover,\n    disableDatesBefore: disableDatesBefore,\n    disableDatesAfter: disableDatesAfter,\n    allowRange: allowRange,\n    weekStartsOn: weekStartsOn,\n    accessibilityLabelPrefixes: accessibilityLabelPrefixes\n  }), secondDatePicker));\n}\n\nfunction noop() {}\n\nfunction handleKeyDown(event) {\n  var {\n    key\n  } = event;\n\n  if (key === 'ArrowUp' || key === 'ArrowDown' || key === 'ArrowLeft' || key === 'ArrowRight') {\n    event.preventDefault();\n    event.stopPropagation();\n  }\n}\n\nfunction deriveRange(selected) {\n  return selected instanceof Date ? {\n    start: selected,\n    end: selected\n  } : selected;\n}\n\nexport { DatePicker };","map":{"version":3,"sources":["/home/bss/Downloads/shopify/create-react-app/node_modules/@shopify/polaris/dist/esm/components/DatePicker/DatePicker.js"],"names":["React$1","useState","useEffect","useCallback","useMemo","useI18n","classNames","ArrowLeftMinor","ArrowRightMinor","Button","Button$1","isDateBefore","isDateAfter","getNextDisplayYear","getNextDisplayMonth","getPreviousDisplayYear","getPreviousDisplayMonth","monthName","styles","Month","Month$1","DatePicker","id","selected","month","year","allowRange","multiMonth","disableDatesBefore","disableDatesAfter","weekStartsOn","dayAccessibilityLabelPrefix","onMonthChange","onChange","noop","i18n","hoverDate","setHoverDate","undefined","focusDate","setFocusDate","handleFocus","date","setFocusDateAndHandleMonthChange","getMonth","getFullYear","handleDateSelection","range","end","Date","handleMonthChangeClick","handleHover","handleKeyUp","event","key","deriveRange","focusedDate","start","previousWeek","setDate","getDate","nextWeek","tomorrow","yesterday","showNextYear","showNextMonth","showNextToNextYear","showNextToNextMonth","showPreviousYear","showPreviousMonth","previousMonthName","translate","nextMonth","nextYear","monthIsSelected","firstDatePickerAccessibilityLabelPrefix","secondDatePickerAccessibilityLabelPrefix","accessibilityLabelPrefixes","secondDatePicker","createElement","onFocus","onHover","datePickerClassName","className","onKeyDown","handleKeyDown","onKeyUp","Header","plain","icon","accessibilityLabel","onClick","MonthLayout","preventDefault","stopPropagation"],"mappings":"AAAA,OAAOA,OAAP,IAAkBC,QAAlB,EAA4BC,SAA5B,EAAuCC,WAAvC,EAAoDC,OAApD,QAAmE,OAAnE;AACA,SAASC,OAAT,QAAwB,+BAAxB;AACA,SAASC,UAAT,QAA2B,wBAA3B;AACA,SAASC,cAAT,EAAyBC,eAAzB,QAAgD,wBAAhD;AACA,SAASC,MAAM,IAAIC,QAAnB,QAAmC,qBAAnC;AACA,SAASC,YAAT,EAAuBC,WAAvB,EAAoCC,kBAApC,EAAwDC,mBAAxD,EAA6EC,sBAA7E,EAAqGC,uBAArG,QAAoI,0BAApI;AACA,SAASC,SAAT,QAA0B,gBAA1B;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,SAASC,KAAK,IAAIC,OAAlB,QAAiC,6BAAjC;;AAEA,SAASC,UAAT,CAAoB;AAClBC,EAAAA,EADkB;AAElBC,EAAAA,QAFkB;AAGlBC,EAAAA,KAHkB;AAIlBC,EAAAA,IAJkB;AAKlBC,EAAAA,UALkB;AAMlBC,EAAAA,UANkB;AAOlBC,EAAAA,kBAPkB;AAQlBC,EAAAA,iBARkB;AASlBC,EAAAA,YAAY,GAAG,CATG;AAUlBC,EAAAA,2BAVkB;AAWlBC,EAAAA,aAXkB;AAYlBC,EAAAA,QAAQ,GAAGC;AAZO,CAApB,EAaG;AACD,MAAMC,IAAI,GAAG9B,OAAO,EAApB;AACA,MAAM,CAAC+B,SAAD,EAAYC,YAAZ,IAA4BpC,QAAQ,CAACqC,SAAD,CAA1C;AACA,MAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BvC,QAAQ,CAACqC,SAAD,CAA1C;AACApC,EAAAA,SAAS,CAAC,MAAM;AACdsC,IAAAA,YAAY,CAACF,SAAD,CAAZ;AACD,GAFQ,EAEN,CAACf,QAAD,CAFM,CAAT;AAGA,MAAMkB,WAAW,GAAGtC,WAAW,CAACuC,IAAI,IAAI;AACtCF,IAAAA,YAAY,CAACE,IAAD,CAAZ;AACD,GAF8B,EAE5B,EAF4B,CAA/B;AAGA,MAAMC,gCAAgC,GAAGxC,WAAW,CAACuC,IAAI,IAAI;AAC3D,QAAIV,aAAJ,EAAmB;AACjBA,MAAAA,aAAa,CAACU,IAAI,CAACE,QAAL,EAAD,EAAkBF,IAAI,CAACG,WAAL,EAAlB,CAAb;AACD;;AAEDR,IAAAA,YAAY,CAACK,IAAD,CAAZ;AACAF,IAAAA,YAAY,CAACE,IAAD,CAAZ;AACD,GAPmD,EAOjD,CAACV,aAAD,CAPiD,CAApD;AAQA,MAAMc,mBAAmB,GAAG3C,WAAW,CAAC4C,KAAK,IAAI;AAC/C,QAAM;AACJC,MAAAA;AADI,QAEFD,KAFJ;AAGAV,IAAAA,YAAY,CAACW,GAAD,CAAZ;AACAR,IAAAA,YAAY,CAAC,IAAIS,IAAJ,CAASD,GAAT,CAAD,CAAZ;AACAf,IAAAA,QAAQ,CAACc,KAAD,CAAR;AACD,GAPsC,EAOpC,CAACd,QAAD,CAPoC,CAAvC;AAQA,MAAMiB,sBAAsB,GAAG/C,WAAW,CAAC,CAACqB,KAAD,EAAQC,IAAR,KAAiB;AAC1D,QAAI,CAACO,aAAL,EAAoB;AAClB;AACD;;AAEDQ,IAAAA,YAAY,CAACF,SAAD,CAAZ;AACAN,IAAAA,aAAa,CAACR,KAAD,EAAQC,IAAR,CAAb;AACD,GAPyC,EAOvC,CAACO,aAAD,CAPuC,CAA1C;AAQA,MAAMmB,WAAW,GAAGhD,WAAW,CAACuC,IAAI,IAAI;AACtCL,IAAAA,YAAY,CAACK,IAAD,CAAZ;AACD,GAF8B,EAE5B,EAF4B,CAA/B;AAGA,MAAMU,WAAW,GAAGjD,WAAW,CAACkD,KAAK,IAAI;AACvC,QAAM;AACJC,MAAAA;AADI,QAEFD,KAFJ;AAGA,QAAMN,KAAK,GAAGQ,WAAW,CAAChC,QAAD,CAAzB;AACA,QAAMiC,WAAW,GAAGjB,SAAS,IAAIQ,KAAK,IAAIA,KAAK,CAACU,KAAhD;;AAEA,QAAID,WAAW,IAAI,IAAnB,EAAyB;AACvB;AACD;;AAED,QAAIF,GAAG,KAAK,SAAZ,EAAuB;AACrB,UAAMI,YAAY,GAAG,IAAIT,IAAJ,CAASO,WAAT,CAArB;AACAE,MAAAA,YAAY,CAACC,OAAb,CAAqBH,WAAW,CAACI,OAAZ,KAAwB,CAA7C;;AAEA,UAAI,EAAEhC,kBAAkB,IAAIjB,YAAY,CAAC+C,YAAD,EAAe9B,kBAAf,CAApC,CAAJ,EAA6E;AAC3Ee,QAAAA,gCAAgC,CAACe,YAAD,CAAhC;AACD;AACF;;AAED,QAAIJ,GAAG,KAAK,WAAZ,EAAyB;AACvB,UAAMO,QAAQ,GAAG,IAAIZ,IAAJ,CAASO,WAAT,CAAjB;AACAK,MAAAA,QAAQ,CAACF,OAAT,CAAiBH,WAAW,CAACI,OAAZ,KAAwB,CAAzC;;AAEA,UAAI,EAAE/B,iBAAiB,IAAIjB,WAAW,CAACiD,QAAD,EAAWhC,iBAAX,CAAlC,CAAJ,EAAsE;AACpEc,QAAAA,gCAAgC,CAACkB,QAAD,CAAhC;AACD;AACF;;AAED,QAAIP,GAAG,KAAK,YAAZ,EAA0B;AACxB,UAAMQ,QAAQ,GAAG,IAAIb,IAAJ,CAASO,WAAT,CAAjB;AACAM,MAAAA,QAAQ,CAACH,OAAT,CAAiBH,WAAW,CAACI,OAAZ,KAAwB,CAAzC;;AAEA,UAAI,EAAE/B,iBAAiB,IAAIjB,WAAW,CAACkD,QAAD,EAAWjC,iBAAX,CAAlC,CAAJ,EAAsE;AACpEc,QAAAA,gCAAgC,CAACmB,QAAD,CAAhC;AACD;AACF;;AAED,QAAIR,GAAG,KAAK,WAAZ,EAAyB;AACvB,UAAMS,SAAS,GAAG,IAAId,IAAJ,CAASO,WAAT,CAAlB;AACAO,MAAAA,SAAS,CAACJ,OAAV,CAAkBH,WAAW,CAACI,OAAZ,KAAwB,CAA1C;;AAEA,UAAI,EAAEhC,kBAAkB,IAAIjB,YAAY,CAACoD,SAAD,EAAYnC,kBAAZ,CAApC,CAAJ,EAA0E;AACxEe,QAAAA,gCAAgC,CAACoB,SAAD,CAAhC;AACD;AACF;AACF,GA9C8B,EA8C5B,CAAClC,iBAAD,EAAoBD,kBAApB,EAAwCW,SAAxC,EAAmDhB,QAAnD,EAA6DoB,gCAA7D,CA9C4B,CAA/B;AA+CA,MAAMqB,YAAY,GAAGnD,kBAAkB,CAACW,KAAD,EAAQC,IAAR,CAAvC;AACA,MAAMwC,aAAa,GAAGnD,mBAAmB,CAACU,KAAD,CAAzC;AACA,MAAM0C,kBAAkB,GAAGrD,kBAAkB,CAACoD,aAAD,EAAgBD,YAAhB,CAA7C;AACA,MAAMG,mBAAmB,GAAGrD,mBAAmB,CAACmD,aAAD,CAA/C;AACA,MAAMG,gBAAgB,GAAGrD,sBAAsB,CAACS,KAAD,EAAQC,IAAR,CAA/C;AACA,MAAM4C,iBAAiB,GAAGrD,uBAAuB,CAACQ,KAAD,CAAjD;AACA,MAAM8C,iBAAiB,GAAGnC,IAAI,CAACoC,SAAL,qCAA4CtD,SAAS,CAACoD,iBAAD,CAArD,EAA1B;AACA,MAAMG,SAAS,GAAG7C,UAAU,GAAGQ,IAAI,CAACoC,SAAL,qCAA4CtD,SAAS,CAACkD,mBAAD,CAArD,EAAH,GAAmFhC,IAAI,CAACoC,SAAL,qCAA4CtD,SAAS,CAACgD,aAAD,CAArD,EAA/G;AACA,MAAMQ,QAAQ,GAAG9C,UAAU,GAAGuC,kBAAH,GAAwBF,YAAnD;AACA,MAAMU,eAAe,GAAGtE,OAAO,CAAC,MAAMmD,WAAW,CAAChC,QAAD,CAAlB,EAA8B,CAACA,QAAD,CAA9B,CAA/B;AACA,MAAMoD,uCAAuC,GAAGjD,UAAU,GAAGS,IAAI,CAACoC,SAAL,4BAAH,GAAgDxC,2BAA1G;AACA,MAAM6C,wCAAwC,GAAGzC,IAAI,CAACoC,SAAL,0BAAjD;AACA,MAAMM,0BAA0B,GAAG,CAACF,uCAAD,EAA0CC,wCAA1C,CAAnC;AACA,MAAME,gBAAgB,GAAGnD,UAAU,GAAG,aAAa3B,OAAO,CAAC+E,aAAR,CAAsB3D,OAAtB,EAA+B;AAChF4D,IAAAA,OAAO,EAAEvC,WADuE;AAEhFe,IAAAA,WAAW,EAAEjB,SAFmE;AAGhFf,IAAAA,KAAK,EAAEyC,aAHyE;AAIhFxC,IAAAA,IAAI,EAAEuC,YAJ0E;AAKhFzC,IAAAA,QAAQ,EAAEmD,eALsE;AAMhFtC,IAAAA,SAAS,EAAEA,SANqE;AAOhFH,IAAAA,QAAQ,EAAEa,mBAPsE;AAQhFmC,IAAAA,OAAO,EAAE9B,WARuE;AAShFvB,IAAAA,kBAAkB,EAAEA,kBAT4D;AAUhFC,IAAAA,iBAAiB,EAAEA,iBAV6D;AAWhFH,IAAAA,UAAU,EAAEA,UAXoE;AAYhFI,IAAAA,YAAY,EAAEA,YAZkE;AAahF+C,IAAAA,0BAA0B,EAAEA;AAboD,GAA/B,CAAhB,GAc9B,IAdL;AAeA,MAAMK,mBAAmB,GAAG5E,UAAU,CAACY,MAAM,CAACG,UAAR,CAAtC;AACA,SAAO,aAAarB,OAAO,CAAC+E,aAAR,CAAsB,KAAtB,EAA6B;AAC/CzD,IAAAA,EAAE,EAAEA,EAD2C;AAE/C6D,IAAAA,SAAS,EAAED,mBAFoC;AAG/CE,IAAAA,SAAS,EAAEC,aAHoC;AAI/CC,IAAAA,OAAO,EAAElC;AAJsC,GAA7B,EAKjB,aAAapD,OAAO,CAAC+E,aAAR,CAAsB,KAAtB,EAA6B;AAC3CI,IAAAA,SAAS,EAAEjE,MAAM,CAACqE;AADyB,GAA7B,EAEb,aAAavF,OAAO,CAAC+E,aAAR,CAAsBrE,QAAtB,EAAgC;AAC9C8E,IAAAA,KAAK,EAAE,IADuC;AAE9CC,IAAAA,IAAI,EAAElF,cAFwC;AAG9CmF,IAAAA,kBAAkB,EAAEvD,IAAI,CAACoC,SAAL,CAAe,kCAAf,EAAmD;AACrED,MAAAA,iBADqE;AAErEF,MAAAA;AAFqE,KAAnD,CAH0B;AAO9CuB,IAAAA,OAAO,EAAE,MAAMzC,sBAAsB,CAACmB,iBAAD,EAAoBD,gBAApB;AAPS,GAAhC,CAFA,EAUZ,aAAapE,OAAO,CAAC+E,aAAR,CAAsBrE,QAAtB,EAAgC;AAC/C8E,IAAAA,KAAK,EAAE,IADwC;AAE/CC,IAAAA,IAAI,EAAEjF,eAFyC;AAG/CkF,IAAAA,kBAAkB,EAAEvD,IAAI,CAACoC,SAAL,CAAe,8BAAf,EAA+C;AACjEC,MAAAA,SADiE;AAEjEC,MAAAA;AAFiE,KAA/C,CAH2B;AAO/CkB,IAAAA,OAAO,EAAE,MAAMzC,sBAAsB,CAACe,aAAD,EAAgBD,YAAhB;AAPU,GAAhC,CAVD,CALI,EAuBf,aAAahE,OAAO,CAAC+E,aAAR,CAAsB,KAAtB,EAA6B;AAC7CI,IAAAA,SAAS,EAAEjE,MAAM,CAAC0E;AAD2B,GAA7B,EAEf,aAAa5F,OAAO,CAAC+E,aAAR,CAAsB3D,OAAtB,EAA+B;AAC7C4D,IAAAA,OAAO,EAAEvC,WADoC;AAE7Ce,IAAAA,WAAW,EAAEjB,SAFgC;AAG7Cf,IAAAA,KAAK,EAAEA,KAHsC;AAI7CC,IAAAA,IAAI,EAAEA,IAJuC;AAK7CF,IAAAA,QAAQ,EAAEgC,WAAW,CAAChC,QAAD,CALwB;AAM7Ca,IAAAA,SAAS,EAAEA,SANkC;AAO7CH,IAAAA,QAAQ,EAAEa,mBAPmC;AAQ7CmC,IAAAA,OAAO,EAAE9B,WARoC;AAS7CvB,IAAAA,kBAAkB,EAAEA,kBATyB;AAU7CC,IAAAA,iBAAiB,EAAEA,iBAV0B;AAW7CH,IAAAA,UAAU,EAAEA,UAXiC;AAY7CI,IAAAA,YAAY,EAAEA,YAZ+B;AAa7C+C,IAAAA,0BAA0B,EAAEA;AAbiB,GAA/B,CAFE,EAgBdC,gBAhBc,CAvBE,CAApB;AAwCD;;AAED,SAAS5C,IAAT,GAAgB,CAAE;;AAElB,SAASmD,aAAT,CAAuBhC,KAAvB,EAA8B;AAC5B,MAAM;AACJC,IAAAA;AADI,MAEFD,KAFJ;;AAIA,MAAIC,GAAG,KAAK,SAAR,IAAqBA,GAAG,KAAK,WAA7B,IAA4CA,GAAG,KAAK,WAApD,IAAmEA,GAAG,KAAK,YAA/E,EAA6F;AAC3FD,IAAAA,KAAK,CAACwC,cAAN;AACAxC,IAAAA,KAAK,CAACyC,eAAN;AACD;AACF;;AAED,SAASvC,WAAT,CAAqBhC,QAArB,EAA+B;AAC7B,SAAOA,QAAQ,YAAY0B,IAApB,GAA2B;AAChCQ,IAAAA,KAAK,EAAElC,QADyB;AAEhCyB,IAAAA,GAAG,EAAEzB;AAF2B,GAA3B,GAGHA,QAHJ;AAID;;AAED,SAASF,UAAT","sourcesContent":["import React$1, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { classNames } from '../../utilities/css.js';\nimport { ArrowLeftMinor, ArrowRightMinor } from '@shopify/polaris-icons';\nimport { Button as Button$1 } from '../Button/Button.js';\nimport { isDateBefore, isDateAfter, getNextDisplayYear, getNextDisplayMonth, getPreviousDisplayYear, getPreviousDisplayMonth } from '../../utilities/dates.js';\nimport { monthName } from './utilities.js';\nimport styles from './DatePicker.scss.js';\nimport { Month as Month$1 } from './components/Month/Month.js';\n\nfunction DatePicker({\n  id,\n  selected,\n  month,\n  year,\n  allowRange,\n  multiMonth,\n  disableDatesBefore,\n  disableDatesAfter,\n  weekStartsOn = 0,\n  dayAccessibilityLabelPrefix,\n  onMonthChange,\n  onChange = noop\n}) {\n  const i18n = useI18n();\n  const [hoverDate, setHoverDate] = useState(undefined);\n  const [focusDate, setFocusDate] = useState(undefined);\n  useEffect(() => {\n    setFocusDate(undefined);\n  }, [selected]);\n  const handleFocus = useCallback(date => {\n    setFocusDate(date);\n  }, []);\n  const setFocusDateAndHandleMonthChange = useCallback(date => {\n    if (onMonthChange) {\n      onMonthChange(date.getMonth(), date.getFullYear());\n    }\n\n    setHoverDate(date);\n    setFocusDate(date);\n  }, [onMonthChange]);\n  const handleDateSelection = useCallback(range => {\n    const {\n      end\n    } = range;\n    setHoverDate(end);\n    setFocusDate(new Date(end));\n    onChange(range);\n  }, [onChange]);\n  const handleMonthChangeClick = useCallback((month, year) => {\n    if (!onMonthChange) {\n      return;\n    }\n\n    setFocusDate(undefined);\n    onMonthChange(month, year);\n  }, [onMonthChange]);\n  const handleHover = useCallback(date => {\n    setHoverDate(date);\n  }, []);\n  const handleKeyUp = useCallback(event => {\n    const {\n      key\n    } = event;\n    const range = deriveRange(selected);\n    const focusedDate = focusDate || range && range.start;\n\n    if (focusedDate == null) {\n      return;\n    }\n\n    if (key === 'ArrowUp') {\n      const previousWeek = new Date(focusedDate);\n      previousWeek.setDate(focusedDate.getDate() - 7);\n\n      if (!(disableDatesBefore && isDateBefore(previousWeek, disableDatesBefore))) {\n        setFocusDateAndHandleMonthChange(previousWeek);\n      }\n    }\n\n    if (key === 'ArrowDown') {\n      const nextWeek = new Date(focusedDate);\n      nextWeek.setDate(focusedDate.getDate() + 7);\n\n      if (!(disableDatesAfter && isDateAfter(nextWeek, disableDatesAfter))) {\n        setFocusDateAndHandleMonthChange(nextWeek);\n      }\n    }\n\n    if (key === 'ArrowRight') {\n      const tomorrow = new Date(focusedDate);\n      tomorrow.setDate(focusedDate.getDate() + 1);\n\n      if (!(disableDatesAfter && isDateAfter(tomorrow, disableDatesAfter))) {\n        setFocusDateAndHandleMonthChange(tomorrow);\n      }\n    }\n\n    if (key === 'ArrowLeft') {\n      const yesterday = new Date(focusedDate);\n      yesterday.setDate(focusedDate.getDate() - 1);\n\n      if (!(disableDatesBefore && isDateBefore(yesterday, disableDatesBefore))) {\n        setFocusDateAndHandleMonthChange(yesterday);\n      }\n    }\n  }, [disableDatesAfter, disableDatesBefore, focusDate, selected, setFocusDateAndHandleMonthChange]);\n  const showNextYear = getNextDisplayYear(month, year);\n  const showNextMonth = getNextDisplayMonth(month);\n  const showNextToNextYear = getNextDisplayYear(showNextMonth, showNextYear);\n  const showNextToNextMonth = getNextDisplayMonth(showNextMonth);\n  const showPreviousYear = getPreviousDisplayYear(month, year);\n  const showPreviousMonth = getPreviousDisplayMonth(month);\n  const previousMonthName = i18n.translate(`Polaris.DatePicker.months.${monthName(showPreviousMonth)}`);\n  const nextMonth = multiMonth ? i18n.translate(`Polaris.DatePicker.months.${monthName(showNextToNextMonth)}`) : i18n.translate(`Polaris.DatePicker.months.${monthName(showNextMonth)}`);\n  const nextYear = multiMonth ? showNextToNextYear : showNextYear;\n  const monthIsSelected = useMemo(() => deriveRange(selected), [selected]);\n  const firstDatePickerAccessibilityLabelPrefix = allowRange ? i18n.translate(`Polaris.DatePicker.start`) : dayAccessibilityLabelPrefix;\n  const secondDatePickerAccessibilityLabelPrefix = i18n.translate(`Polaris.DatePicker.end`);\n  const accessibilityLabelPrefixes = [firstDatePickerAccessibilityLabelPrefix, secondDatePickerAccessibilityLabelPrefix];\n  const secondDatePicker = multiMonth ? /*#__PURE__*/React$1.createElement(Month$1, {\n    onFocus: handleFocus,\n    focusedDate: focusDate,\n    month: showNextMonth,\n    year: showNextYear,\n    selected: monthIsSelected,\n    hoverDate: hoverDate,\n    onChange: handleDateSelection,\n    onHover: handleHover,\n    disableDatesBefore: disableDatesBefore,\n    disableDatesAfter: disableDatesAfter,\n    allowRange: allowRange,\n    weekStartsOn: weekStartsOn,\n    accessibilityLabelPrefixes: accessibilityLabelPrefixes\n  }) : null;\n  const datePickerClassName = classNames(styles.DatePicker);\n  return /*#__PURE__*/React$1.createElement(\"div\", {\n    id: id,\n    className: datePickerClassName,\n    onKeyDown: handleKeyDown,\n    onKeyUp: handleKeyUp\n  }, /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.Header\n  }, /*#__PURE__*/React$1.createElement(Button$1, {\n    plain: true,\n    icon: ArrowLeftMinor,\n    accessibilityLabel: i18n.translate('Polaris.DatePicker.previousMonth', {\n      previousMonthName,\n      showPreviousYear\n    }),\n    onClick: () => handleMonthChangeClick(showPreviousMonth, showPreviousYear)\n  }), /*#__PURE__*/React$1.createElement(Button$1, {\n    plain: true,\n    icon: ArrowRightMinor,\n    accessibilityLabel: i18n.translate('Polaris.DatePicker.nextMonth', {\n      nextMonth,\n      nextYear\n    }),\n    onClick: () => handleMonthChangeClick(showNextMonth, showNextYear)\n  })), /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.MonthLayout\n  }, /*#__PURE__*/React$1.createElement(Month$1, {\n    onFocus: handleFocus,\n    focusedDate: focusDate,\n    month: month,\n    year: year,\n    selected: deriveRange(selected),\n    hoverDate: hoverDate,\n    onChange: handleDateSelection,\n    onHover: handleHover,\n    disableDatesBefore: disableDatesBefore,\n    disableDatesAfter: disableDatesAfter,\n    allowRange: allowRange,\n    weekStartsOn: weekStartsOn,\n    accessibilityLabelPrefixes: accessibilityLabelPrefixes\n  }), secondDatePicker));\n}\n\nfunction noop() {}\n\nfunction handleKeyDown(event) {\n  const {\n    key\n  } = event;\n\n  if (key === 'ArrowUp' || key === 'ArrowDown' || key === 'ArrowLeft' || key === 'ArrowRight') {\n    event.preventDefault();\n    event.stopPropagation();\n  }\n}\n\nfunction deriveRange(selected) {\n  return selected instanceof Date ? {\n    start: selected,\n    end: selected\n  } : selected;\n}\n\nexport { DatePicker };\n"]},"metadata":{},"sourceType":"module"}