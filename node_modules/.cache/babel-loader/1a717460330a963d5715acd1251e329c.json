{"ast":null,"code":"import React$1, { Component } from 'react';\nimport { useStickyManager } from '../../utilities/sticky-manager/hooks.js';\nimport { getRectForNode } from '../../utilities/geometry.js';\n\nclass StickyInner extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      isSticky: false,\n      style: {}\n    };\n    this.placeHolderNode = null;\n    this.stickyNode = null;\n\n    this.setPlaceHolderNode = node => {\n      this.placeHolderNode = node;\n    };\n\n    this.setStickyNode = node => {\n      this.stickyNode = node;\n    };\n\n    this.handlePositioning = (stick, top = 0, left = 0, width = 0) => {\n      var {\n        isSticky\n      } = this.state;\n\n      if (stick && !isSticky || !stick && isSticky) {\n        this.adjustPlaceHolderNode(stick);\n        this.setState({\n          isSticky: !isSticky\n        });\n      }\n\n      var style = stick ? {\n        position: 'fixed',\n        top,\n        left,\n        width\n      } : {};\n      this.setState({\n        style\n      });\n    };\n\n    this.adjustPlaceHolderNode = add => {\n      if (this.placeHolderNode && this.stickyNode) {\n        this.placeHolderNode.style.paddingBottom = add ? \"\".concat(getRectForNode(this.stickyNode).height, \"px\") : '0px';\n      }\n    };\n  }\n\n  componentDidMount() {\n    var {\n      boundingElement,\n      offset = false,\n      disableWhenStacked = false,\n      stickyManager\n    } = this.props;\n    if (!this.stickyNode || !this.placeHolderNode) return;\n    stickyManager.registerStickyItem({\n      stickyNode: this.stickyNode,\n      placeHolderNode: this.placeHolderNode,\n      handlePositioning: this.handlePositioning,\n      offset,\n      boundingElement,\n      disableWhenStacked\n    });\n  }\n\n  componentWillUnmount() {\n    var {\n      stickyManager\n    } = this.props;\n    if (!this.stickyNode) return;\n    stickyManager.unregisterStickyItem(this.stickyNode);\n  }\n\n  render() {\n    var {\n      style,\n      isSticky\n    } = this.state;\n    var {\n      children\n    } = this.props;\n    var childrenContent = isFunction(children) ? children(isSticky) : children;\n    return /*#__PURE__*/React$1.createElement(\"div\", null, /*#__PURE__*/React$1.createElement(\"div\", {\n      ref: this.setPlaceHolderNode\n    }), /*#__PURE__*/React$1.createElement(\"div\", {\n      ref: this.setStickyNode,\n      style: style\n    }, childrenContent));\n  }\n\n} // This should have a typeguard instead of using Function\n// eslint-disable-next-line @typescript-eslint/ban-types\n\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction Sticky(props) {\n  var stickyManager = useStickyManager();\n  return /*#__PURE__*/React$1.createElement(StickyInner, Object.assign({}, props, {\n    stickyManager: stickyManager\n  }));\n}\n\nexport { Sticky };","map":{"version":3,"sources":["/home/bss/Downloads/shopify/create-react-app/node_modules/@shopify/polaris/dist/esm/components/Sticky/Sticky.js"],"names":["React$1","Component","useStickyManager","getRectForNode","StickyInner","constructor","args","state","isSticky","style","placeHolderNode","stickyNode","setPlaceHolderNode","node","setStickyNode","handlePositioning","stick","top","left","width","adjustPlaceHolderNode","setState","position","add","paddingBottom","height","componentDidMount","boundingElement","offset","disableWhenStacked","stickyManager","props","registerStickyItem","componentWillUnmount","unregisterStickyItem","render","children","childrenContent","isFunction","createElement","ref","arg","Sticky","Object","assign"],"mappings":"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","sourcesContent":["import React$1, { Component } from 'react';\nimport { useStickyManager } from '../../utilities/sticky-manager/hooks.js';\nimport { getRectForNode } from '../../utilities/geometry.js';\n\nclass StickyInner extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      isSticky: false,\n      style: {}\n    };\n    this.placeHolderNode = null;\n    this.stickyNode = null;\n\n    this.setPlaceHolderNode = node => {\n      this.placeHolderNode = node;\n    };\n\n    this.setStickyNode = node => {\n      this.stickyNode = node;\n    };\n\n    this.handlePositioning = (stick, top = 0, left = 0, width = 0) => {\n      const {\n        isSticky\n      } = this.state;\n\n      if (stick && !isSticky || !stick && isSticky) {\n        this.adjustPlaceHolderNode(stick);\n        this.setState({\n          isSticky: !isSticky\n        });\n      }\n\n      const style = stick ? {\n        position: 'fixed',\n        top,\n        left,\n        width\n      } : {};\n      this.setState({\n        style\n      });\n    };\n\n    this.adjustPlaceHolderNode = add => {\n      if (this.placeHolderNode && this.stickyNode) {\n        this.placeHolderNode.style.paddingBottom = add ? `${getRectForNode(this.stickyNode).height}px` : '0px';\n      }\n    };\n  }\n\n  componentDidMount() {\n    const {\n      boundingElement,\n      offset = false,\n      disableWhenStacked = false,\n      stickyManager\n    } = this.props;\n    if (!this.stickyNode || !this.placeHolderNode) return;\n    stickyManager.registerStickyItem({\n      stickyNode: this.stickyNode,\n      placeHolderNode: this.placeHolderNode,\n      handlePositioning: this.handlePositioning,\n      offset,\n      boundingElement,\n      disableWhenStacked\n    });\n  }\n\n  componentWillUnmount() {\n    const {\n      stickyManager\n    } = this.props;\n    if (!this.stickyNode) return;\n    stickyManager.unregisterStickyItem(this.stickyNode);\n  }\n\n  render() {\n    const {\n      style,\n      isSticky\n    } = this.state;\n    const {\n      children\n    } = this.props;\n    const childrenContent = isFunction(children) ? children(isSticky) : children;\n    return /*#__PURE__*/React$1.createElement(\"div\", null, /*#__PURE__*/React$1.createElement(\"div\", {\n      ref: this.setPlaceHolderNode\n    }), /*#__PURE__*/React$1.createElement(\"div\", {\n      ref: this.setStickyNode,\n      style: style\n    }, childrenContent));\n  }\n\n} // This should have a typeguard instead of using Function\n// eslint-disable-next-line @typescript-eslint/ban-types\n\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction Sticky(props) {\n  const stickyManager = useStickyManager();\n  return /*#__PURE__*/React$1.createElement(StickyInner, Object.assign({}, props, {\n    stickyManager: stickyManager\n  }));\n}\n\nexport { Sticky };\n"]},"metadata":{},"sourceType":"module"}